profiles {
    singularity {
        singularity.enabled     = true
        singularity.autoMounts  = true
        singularity.cacheDir    = "${HOME}/singularity_cache"
    }
}

process {
    executor       = 'slurm'
    clusterOptions = '-q secondary'
    container      = 'docker://go2432/xengsort:latest'

    withName: 'INDEX' {
        cpus   = 16
        memory = '80 GB'
        time   = '24h'
    }
    withName: 'SORT_READS' {
        cpus   = 8
        memory = '32 GB'
        time   = '12h'
    }
}

params {
    input       = "ANALYSIS/samplesheet.csv"
    host_fasta  = "/wsu/home/go/go24/go2432/u251-transcriptomic-evolution/ANALYSIS/refs/rat/Rattus_norvegicus.mRatBN7.2.dna.toplevel.fa.gz"
    graft_fasta = "/wsu/home/go/go24/go2432/u251-transcriptomic-evolution/ANALYSIS/refs/human/GRCh38.primary_assembly.genome.fa.gz"
    outdir      = "ANALYSIS/xengsort_out"
}
